<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Digitaler Adventskalender üíå</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --bg: #f5f3ff;
      --card: #ffffff;
      --accent: #e11d48;
      --accent-soft: #fee2e2;
      --text-main: #111827;
      --text-muted: #6b7280;
      --door-bg: #111827;
      --door-open-bg: #f97316;
      --door-locked-bg: #9ca3af;
      --error: #b91c1c;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #fef3c7, #e0f2fe, #ede9fe);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
      color: var(--text-main);
    }

    .wrapper {
      max-width: 900px;
      width: 100%;
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(16px);
      border-radius: 1.5rem;
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.15);
      padding: 2rem 1.5rem 2.5rem;
    }

    @media (min-width: 768px) {
      .wrapper {
        padding: 2.5rem 3rem 3rem;
      }
    }

    header {
      text-align: center;
      margin-bottom: 2rem;
    }

    header h1 {
      font-size: clamp(1.8rem, 3vw, 2.4rem);
      margin-bottom: 0.5rem;
    }

    header p {
      color: var(--text-muted);
      font-size: 0.95rem;
      max-width: 32rem;
      margin: 0 auto;
    }

    .calendar {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 0.8rem;
    }

    @media (min-width: 640px) {
      .calendar {
        grid-template-columns: repeat(6, minmax(0, 1fr));
      }
    }

    @media (min-width: 1024px) {
      .calendar {
        grid-template-columns: repeat(8, minmax(0, 1fr));
      }
    }

    .door {
      position: relative;
      padding-top: 100%; /* square */
      cursor: pointer;
      perspective: 800px;
    }

    .door-inner {
      position: absolute;
      inset: 0;
      border-radius: 0.9rem;
      overflow: hidden;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 6px 14px rgba(15, 23, 42, 0.18);
    }

    .door-front {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--door-bg);
      color: #f9fafb;
      font-weight: 700;
      font-size: 1.4rem;
      letter-spacing: 0.05em;
    }

    .door-front span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 2.1rem;
      height: 2.1rem;
      border-radius: 999px;
      border: 2px solid rgba(248, 250, 252, 0.3);
    }

    .door-locked .door-front {
      background: var(--door-locked-bg);
      opacity: 0.85;
    }

    .door-locked {
      cursor: not-allowed;
    }

    .door:hover:not(.door-locked) .door-inner {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.25);
    }

    .door-open .door-front {
      background: var(--door-open-bg);
    }

    footer {
      margin-top: 1.8rem;
      text-align: center;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    footer button {
      border: none;
      background: transparent;
      text-decoration: underline;
      cursor: pointer;
      font-size: 0.8rem;
      padding: 0;
      color: var(--accent);
    }

    .pill {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.2rem 0.6rem;
      border-radius: 999px;
      background: var(--accent-soft);
      color: var(--accent);
      font-size: 0.75rem;
      margin-bottom: 0.5rem;
    }

    /* === PASSWORD SCREEN === */

    #auth-screen {
      max-width: 420px;
      width: 100%;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(16px);
      border-radius: 1.5rem;
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.15);
      padding: 2.2rem 2rem 2.4rem;
    }

    #auth-screen h1 {
      font-size: 1.6rem;
      margin-bottom: 0.5rem;
      text-align: center;
    }

    #auth-screen p {
      font-size: 0.95rem;
      color: var(--text-muted);
      text-align: center;
      margin-bottom: 1.3rem;
    }

    .auth-label {
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: var(--text-muted);
      margin-bottom: 0.3rem;
      display: block;
    }

    .auth-input {
      width: 100%;
      padding: 0.6rem 0.75rem;
      border-radius: 0.75rem;
      border: 1px solid #d1d5db;
      font-size: 0.95rem;
      margin-bottom: 0.75rem;
      outline: none;
    }

    .auth-input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(225, 29, 72, 0.3);
    }

    .auth-button {
      width: 100%;
      border: none;
      border-radius: 999px;
      padding: 0.65rem 0.8rem;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      margin-top: 0.3rem;
      background: linear-gradient(to right, #e11d48, #fb7185);
      color: #f9fafb;
      box-shadow: 0 10px 20px rgba(190, 24, 93, 0.4);
    }

    .auth-button:active {
      transform: translateY(1px);
      box-shadow: 0 6px 12px rgba(190, 24, 93, 0.5);
    }

    .auth-extra {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 0.5rem;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .auth-checkbox {
      display: flex;
      align-items: center;
      gap: 0.35rem;
      cursor: pointer;
      user-select: none;
    }

    .auth-checkbox input {
      width: 14px;
      height: 14px;
      cursor: pointer;
    }

    .auth-error {
      margin-top: 0.4rem;
      font-size: 0.8rem;
      color: var(--error);
      min-height: 1em;
    }

    .hidden {
      display: none;
    }

    .header-image {
      display: flex;
      justify-content: center;
      margin-bottom: 1.4rem;
      margin-top: 0.4rem;
    }

    .header-image img {
      width: 100%;
      max-width: 420px;
      border-radius: 24px;
      box-shadow: 0 10px 26px rgba(15, 23, 42, 0.25);
      object-fit: cover;
    }

    /* === FULL-PAGE CONTENT === */
    .page-wrapper {
      max-width: 900px;
      width: 100%;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(16px);
      border-radius: 1.5rem;
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.3);
      padding: 2.3rem 2rem 2.6rem;
      max-height: 90vh;
      overflow-y: auto;
    }

    .page-title {
      font-size: 1.4rem;
      text-align: center;
      margin-bottom: 1rem;
    }

    .page-text {
      font-size: 0.98rem;
      line-height: 1.7;
    }

    .page-back {
      margin-top: 1.5rem;
      text-align: center;
      font-size: 0.85rem;
      color: var(--text-muted);
      text-decoration: underline;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- PASSWORD SCREEN -->
  <div id="auth-screen">
    <h1>Nur f√ºr dich ‚ú®</h1>
    <p>
      Dieser Adventskalender ist passwortgesch√ºtzt.
      <br />Gib unser geheimes Wort ein, um die T√ºrchen zu √∂ffnen.
    </p>

    <label for="password-input" class="auth-label">Passwort</label>
    <input
      id="password-input"
      type="password"
      class="auth-input"
      autocomplete="current-password"
      placeholder="Geheimes Wort eingeben"
    />

    <button id="auth-button" class="auth-button">T√ºrchen √∂ffnen</button>

    <div class="auth-extra">
      <label class="auth-checkbox">
        <input type="checkbox" id="remember-me" checked />
        <span>Auf diesem Ger√§t merken</span>
      </label>
      <span>üíå</span>
    </div>

    <div id="auth-error" class="auth-error"></div>
  </div>

  <!-- MAIN APP (hidden until unlocked) -->
  <div id="app" class="wrapper hidden">
    <header>
      <div class="header-image">
        <img src="images/SunRise.jpeg" alt="√úberraschungsbild" />
      </div>
      <h1>Unser digitaler Adventskalender</h1>
      <p>
        Jeden Tag wartet eine kleine √úberraschung auf dich.
        Klicke auf das T√ºrchen mit dem heutigen Datum, um eine Seite zu √∂ffnen.
      </p>
    </header>

    <main class="calendar" id="calendar"></main>

    <footer>
      <span>
        Klicke auf ein T√ºrchen, um die √úberraschungsseite zu √∂ffnen.
      </span>
      <br />
      <button id="reset">Alle T√ºrchen als ‚Äûungesehen‚Äú markieren</button>
    </footer>
  </div>

  <script>
    // === SIMPLE PASSWORD PROTECTION (front-end only) =============

    const CALENDAR_PASSWORD = "merryxmas";
    const AUTH_STORAGE_KEY = "advent_calendar_auth_ok";

    const authScreen = document.getElementById("auth-screen");
    const appWrapper = document.getElementById("app");
    const passwordInput = document.getElementById("password-input");
    const authButton = document.getElementById("auth-button");
    const authError = document.getElementById("auth-error");
    const rememberMeCheckbox = document.getElementById("remember-me");

    const calendarEl = document.getElementById("calendar");
    const STORAGE_KEY = "advent_calendar_opened";

    // Datums-Lock aktiv: T√ºren √∂ffnen sich nur bis zum aktuellen Tag im Dezember
    const ENABLE_DATE_LOCK = true;

    function showApp() {
      authScreen.classList.add("hidden");
      appWrapper.classList.remove("hidden");
    }

    function handleAuthAttempt() {
      const entered = passwordInput.value.trim();

      if (!entered) {
        authError.textContent = "Bitte gib ein Passwort ein.";
        return;
      }

      if (entered === CALENDAR_PASSWORD) {
        authError.textContent = "";
        if (rememberMeCheckbox.checked) {
          try {
            localStorage.setItem(AUTH_STORAGE_KEY, "true");
          } catch (e) {}
        }
        showApp();
        initCalendar();
      } else {
        authError.textContent =
          "Das Passwort ist leider falsch. Versuch es nochmal. üíî";
        passwordInput.focus();
        passwordInput.select();
      }
    }

    // === ADVENT CALENDAR LOGIC ====================

    const doorContents = {
      1: {
        title: "1. Dezember",
        text: `I was walking by the road, I do not know why, when the noonday <br>
was past and bamboo branches rustled in the wind. <br>
The prone shadows with their out-stretched arms clung to the feet <br>
of the hurrying light. <br>
The koels were weary of their songs. <br>
I was walking by the road, I do not know why. <br><br>

The hut by the side of the water is shaded by an overhanging<br>
tree.<br>
Some one was busy with her work, and her bangles made music in<br>
the corner.<br>
I stood before this hut, I know not why.<br><br>

The narrow winding road crosses many a mustard field, and many a<br>
mango forest.<br>
It passes by the temple of the village and the market at the<br>
river landing place.<br>
I stopped by this hut, I do not know why.<br><br>

Years ago it was a day of breezy March when the murmur of the<br>
spring was languorous, and mango blossoms were dropping on the<br>
dust.<br>
The rippling water leapt and licked the brass vessel that stood<br>
on the landing step.<br>
I think of that day of breezy March, I do not know why.<br><br>

Shadows are deepening and cattle returning to their folds.<br>
The light is grey upon the lonely meadows, and the villagers are<br>
waiting for the ferry at the bank.<br>
I slowly return upon my steps, I do not know why.<br><br>

THE GARDENER<br><br>
By Rabindranath Tagore`,
      },
      2: {
        title: "2. Dezember",
        text: `Caspar David Friedrich üíõ`,
        img: "images/DerMoenchAmMeer.jpg",
        link: "https://www.youtube.com/watch?v=jYTblag7vZk&list=RDjYTblag7vZk&start_radio=1",
        linkLabel: "Chopin Nocturne in C-minor, opus 48 no 1",
      },
      3: {
        title: "3. Dezember",
        text: "What animals were living and mating happily in the field behind you on the left?",
        img: "images/bikelove.png",
      },
      4: {
        title: "4. Dezember",
        text: `MONO NO AWARE (Japanese): <br><br> An acute sensitivity to the transience of lovely things; a melancholy awareness <br> 
          that everything nice will fade combined with a rich <br> enjoyment of this short-lived beauty The sight of cherry blossom <br>
          provokes the emotion like nothing else.<br><br> Winter at the ISAR some years ago. `,
        img: "images/IsarWinter.jpg",
      },
      5: {
        title: "5. Dezember",
        text: `Hinter jedem Abschied steht ein Warten.<br>
Wenn dein Schritt verhallt ist, sehn ich mich.<br>
Wenn Du kommst, ist jeder Tag ein Garten.<br>
‚Äì Aber wenn du fort bist, lieb ich dich...<br><br>

Manchmal seh ich auf zu Sternmillionen.<br>
Ob das Gl√ºck stets hinter Wolken liegt?<br>
Ach, ich m√∂chte in den N√§chten wohnen,<br>
wo kein 'morgen' um die Ecke biegt.<br><br>
 
Kommst du, sehn ich mich nach tausend Dingen,<br>
w√§chst der Abgrund zwischen dir und mir,<br>
Sp√ºr ich altes Fernweh in mir klingen.<br>
- Aber wenn du fort bist, gilt es dir.<br><br>

Unser Schicksal lauert hinter Bergen.<br>
Sch√∂nes Jenseits, das wir nicht verstehn.<br>
Unsre Gro√üen gleichen noch den Zwergen,<br>
Und nichts bleibt uns als emporzusehn.<br><br>

Gibt es Tr√§ume, die noch nicht zerrissen,<br>
Gibts ein Gl√ºck, das hielt, was es versprach?<br>
Ach, wir Dummen werdens niemals wissen.<br>
Und die Klugen forschen nicht danach...<br><br>

Text von Mascha Kal√©ko, vertont durch Dota Kehr:
https://www.youtube.com/watch?v=t4IqG_ua4rY`,
      },
      6: {
        title: "6. Dezember",
        text: "Nikolaus! Play Conway's game of life : https://playgameoflife.com/",
        link: "https://playgameoflife.com/",
        linkLabel: "Conway's game of life",
      },
      7: {
        title: "7. Dezember",
        text: `Loriot`,
        img: "images/loriot.png",
        link: "https://www.youtube.com/watch?v=qGl8u1LMZbU",
        linkLabel: "Das Ei ist hart",
      },
      8: { 
        title: "8. Dezember", 
        text: ``,
        img: "images/RequiemForADream.png",
      },
      9: { 
        title: "9. Dezember", 
        text: "Go Go Power Rangers!",
        img: "images/PowerRangers.png",
      },
      10: { 
        title: "10. Dezember", 
        text: "A d√©j√† vu. I met the bird on December 10. Is it the same we saw during the Rolls Royce birthing event?", 
        img: "images/birdatlake.jpeg",
      },
      11: { 
        title: "11. Dezember", 
        text: "work work work", 
        img: "images/EDasCT.png",
      },
      12: { 
        title: "12. Dezember", 
        text: "Another memory together, I tell you the date, and you tell me who we were with: April 28th 2013",
        img: "images/HIkeApril2013withMarn.jpg",
      },
      13: { 
        title: "13. Dezember", 
        text: "Heute: mindestens drei Komplimente f√ºreinander. üòâ",
        link: "https://www.youtube.com/watch?v=cNqrV7NFpDE",
        linkLabel: "8 minutes of warming up the Chinese way.",
      },
      14: { title: "14. Dezember", text: "Zeit f√ºr einen Filmabend unter der Decke. üé¨" },
      15: { title: "15. Dezember", text: "Vielleicht ein gemeinsamer Tee und ein gutes Gespr√§ch? üçµ" },
      16: { title: "16. Dezember", text: "Ich bin so froh, dass es dich gibt. üíå" },
      17: { title: "17. Dezember", text: "Heute schauen wir alte Fotos an und erinnern uns. üì∑" },
      18: { title: "18. Dezember", text: "Fast Weihnachten ‚Äì und ich hab schon das gr√∂√üte Geschenk: dich. üéÅ" },
      19: { title: "19. Dezember", text: "Heute ein heimliches L√§cheln nur f√ºr dich. üòä" },
      20: { title: "20. Dezember", text: "Vielleicht gemeinsam einen Weihnachtsmarkt besuchen? ‚ú®" },
      21: { title: "21. Dezember", text: "Der k√ºrzeste Tag, aber unser Licht ist gro√ü. üïØÔ∏è" },
      22: { title: "22. Dezember", text: "Noch zwei Tage ‚Äì ich freu mich auf alles, was kommt. ü§ç" },
      23: { title: "23. Dezember", text: "Fast geschafft ‚Äì ein Tag voller Vorfreude. ‚≠ê" },
      24: {
        title: "24. Dezember",
        text: "Frohe Weihnachten, mein Lieblingsmensch. Danke, dass du bei mir bist. üéÑ‚ù§Ô∏è",
      },
    };

    function getDefaultContent(day) {
      return {
        title: `T√ºrchen ${day}`,
        text: "Eine kleine √úberraschung wartet bald hier‚Ä¶ üí´",
      };
    }

    function loadOpenedState() {
      try {
        const saved = localStorage.getItem(STORAGE_KEY);
        return saved ? JSON.parse(saved) : {};
      } catch (e) {
        return {};
      }
    }

    function saveOpenedState(state) {
      try {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
      } catch (e) {}
    }

    let openedState = loadOpenedState();

    function isDoorUnlocked(day) {
      if (!ENABLE_DATE_LOCK) return true;

      const now = new Date();
      const month = now.getMonth(); // 0 = Januar, 11 = Dezember
      const date = now.getDate();

      if (month < 11) return false; // vor Dezember alles zu
      return day <= date; // im Dezember bis zum aktuellen Tag offen
    }

    function showFullPage(content) {
      const imgHtml = content.img
        ? `<div style="margin: 1.5rem 0; text-align: center;">
             <img src="${content.img}" alt="" style="max-width: 100%; border-radius: 16px; box-shadow: 0 8px 20px rgba(15,23,42,0.25);" />
           </div>`
        : "";

      const linkHtml = content.link
        ? `<p style="margin-top: 1rem; text-align: center;">
             <a href="${content.link}" target="_blank" rel="noopener noreferrer">
               ${content.linkLabel || "Zur √úberraschung"}
             </a>
           </p>`
        : "";

      document.body.innerHTML = `
        <div class="page-wrapper">
          <h1 class="page-title">${content.title}</h1>
          <div class="page-text">
            ${content.text}
          </div>
          ${imgHtml}
          ${linkHtml}
          <div class="page-back" onclick="window.location.reload()">
            Zur√ºck zum Kalender
          </div>
        </div>
      `;
    }

    function createDoor(day) {
      const door = document.createElement("div");
      door.className = "door";
      door.dataset.day = day;

      const content = doorContents[day] || getDefaultContent(day);

      if (!isDoorUnlocked(day)) {
        door.classList.add("door-locked");
      }

      if (openedState[day]) {
        door.classList.add("door-open");
      }

      const inner = document.createElement("div");
      inner.className = "door-inner";

      const front = document.createElement("div");
      front.className = "door-front";
      front.innerHTML = `<span>${day}</span>`;

      inner.appendChild(front);
      door.appendChild(inner);

      door.addEventListener("click", () => handleDoorClick(door, day, content));

      return door;
    }

    function handleDoorClick(door, day, content) {
      if (door.classList.contains("door-locked")) {
        const now = new Date();
        if (now.getMonth() !== 11) {
          alert("Die T√ºren √∂ffnen sich im Dezember üéÑ");
        } else {
          alert("Dieses T√ºrchen kannst du erst am passenden Tag √∂ffnen ‚ú®");
        }
        return;
      }

      // Immer ganze Seite anzeigen
      openedState[day] = true;
      saveOpenedState(openedState);
      showFullPage(content);
    }

    function buildCalendar() {
      while (calendarEl.firstChild) {
        calendarEl.removeChild(calendarEl.firstChild);
      }

      for (let day = 1; day <= 24; day++) {
        const door = createDoor(day);
        calendarEl.appendChild(door);
      }
    }

    function initCalendar() {
      openedState = loadOpenedState();
      buildCalendar();
    }

    document.addEventListener("DOMContentLoaded", () => {
      authButton.addEventListener("click", handleAuthAttempt);
      passwordInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          handleAuthAttempt();
        }
      });

      const resetBtn = document.getElementById("reset");
      if (resetBtn) {
        resetBtn.addEventListener("click", () => {
          if (
            confirm(
              "M√∂chtest du wirklich alle T√ºrchen zur√ºcksetzen? Sie werden wieder als ungesehen markiert."
            )
          ) {
            saveOpenedState({});
            window.location.reload();
          }
        });
      }

      try {
        const ok = localStorage.getItem(AUTH_STORAGE_KEY) === "true";
        if (ok) {
          showApp();
          initCalendar();
        }
      } catch (e) {}
    });
  </script>
</body>
</html>
